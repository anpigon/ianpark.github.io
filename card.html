<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="http://cdn.tinymce.com/4/tinymce.min.js"></script>
<script>
//tinymce.init({ selector:'textarea' });
tinymce.init({
  selector: 'textarea',
  width:550,
  height: 300,
  menubar: false,
  fontsize_formats: "7pt 8pt 9pt 10pt 11pt 12pt 13pt 14pt 15pt 18pt 24pt 36pt",
  theme: 'modern',
  plugins: [
    'advlist autolink lists link image charmap print preview hr anchor pagebreak',
    'searchreplace wordcount visualblocks visualchars code fullscreen',
    'insertdatetime media nonbreaking save table contextmenu directionality',
    'emoticons template paste textcolor colorpicker textpattern imagetools codesample toc'
  ],
  toolbar1: 'undo redo | insert | styleselect | fontselect | fontsizeselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | print preview media | forecolor backcolor',
  image_advtab: true,
  content_css: [
  ]
 });
</script>
<body style="width:100%">
  <div id="card">
    <div style="width:595px;margin:0 auto;">
      <table cellspacing="0" cellpadding="0" style="width:595px;">
        <tr>
          <td>
            <img src='http://ianpark.github.io//files/200_Header.gif' width=595px/>
          </td>
        </tr>
        <tr>
          <td>
            <div id="contents_body" style="float:left;width:595px;padding:25px;padding-top:0px;padding-bottom:0px;margin:0 auto;background-color: #f8f8f8;">
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <img src='http://ianpark.github.io/files/200_footer.jpg' width=595px/>
          </td>
        </tr>
      </table>
    </div>
  </div>
  <hr>
  <div style="width:595px;margin:0 auto;">
    <button id="apply_change">Apply Text</button>
    <button id="copy_button">Copy to Clipboard</button>
    <textarea id='my_content'>
    <p><font style="font-family: helvetica, arial, sans-serif; color: #575757; font-size: 13pt;">Dear Santa,</font><br><br><font style="font-family: helvetica, arial, sans-serif; color: #575757; font-size: 11pt;"> Wishing you peace, joy, and all the best this wonderful holiday has to offer. May this incredible time of giving and spending time with family bring you joy that lasts throughout the year. </font><br><br><font style="font-family: helvetica, arial, sans-serif; color: #575757; font-size: 13pt;"> XXX</font></p>
    </textarea>
  </div>
</body>

<script>
function get_editor_content() {
  return tinyMCE.get('my_content').getContent();
}
$(function() {
  $('#contents_body').html(get_editor_content());
});
$('#apply_change').click(function() {
    var contents = get_editor_content();
    contents = contents.replace(/span/g, 'font');
    $('#contents_body').html(contents);
});

document.getElementById("copy_button").addEventListener("click", function () {
    var sel = window.getSelection ? window.getSelection() : document.selection;
    if (sel) {
        if (sel.removeAllRanges) {
            sel.removeAllRanges();
        } else if (sel.empty) {
            sel.empty();
        }
    }
    //html2clipboard($('#card').html());
    var range = document.createRange();
    //range.selectNode(tmpEl);
    range.selectNode(document.getElementById("card"));
    sel.addRange(range);
    // copy
    document.execCommand("copy");
    alert('Copied to clipboard. CTRL+V in your email app.');
});


</script>
